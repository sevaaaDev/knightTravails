(()=>{"use strict";function t(t,e){t.innerHTML="";for(let o=7;o>-1;o--)for(let n=0;n<8;n++){const r=document.createElement("div");r.setAttribute("data-row",n),r.setAttribute("data-col",o),r.classList.add("square"),(n+1)%2==(o+1)%2&&r.classList.add("black"),e[0]===n&&e[1]===o&&r.classList.add("knight"),t.append(r)}}function e(t,e){return n(function(t,e){let o=[];o.push({to:e.join(","),from:null,cost:0});let n={};for(;o.length;){if(n[o[0].to]&&o[0].cost==n[o[0].to].cost&&n[o[0].to].from.push(o[0].from),!n[o[0].to]){n[o[0].to]={from:[o[0].from],cost:o[0].cost};for(let e of t[o[0].to]){if(n[e])continue;let t={to:e,from:o[0].to,cost:o[0].cost+1};o.push(t)}}o.shift()}return n}(function(){let t={};for(let e=0;e<8;e++)for(let n=0;n<8;n++){let r=o(e,n);t[`${e},${n}`]=r}return t}(),t),e.join(","))}function o(t,e){let o=[];return o.push(`${t+2},${e+1}`),o.push(`${t+1},${e+2}`),o.push(`${t+2},${e-1}`),o.push(`${t+1},${e-2}`),o.push(`${t-2},${e+1}`),o.push(`${t-1},${e+2}`),o.push(`${t-2},${e-1}`),o.push(`${t-1},${e-2}`),o.filter((t=>{let e=t.split(",");if(e[0]<8&&e[0]>-1&&e[1]<8&&e[1]>-1)return!0}))}function n(t,e){let o=e.split(",");if(!t[e].from[0])return[[[+o[0],+o[1]]]];let r=[];for(let s=0;s<t[e].from.length;s++){let l=n(t,t[e].from[s]);for(let t=0;t<l.length;t++){let e=[];e=e.concat(l[t],[[+o[0],+o[1]]]),r.push(e)}}return r}e([7,0],[3,3]);const r=document.querySelector(".container");let s=[0,0];r.addEventListener("click",(function o(n){n.target.className.includes("square")&&function(n){r.removeEventListener("click",o);let l=e(s,n),c=0;!function(t){const e=document.querySelector(".info"),o=document.querySelector(".moves");let n=`You made it in ${t.length-1} moves`;2===t.length&&(n=n.slice(0,n.length-1)),e.innerText=n;let r=t.join(" > ");o.innerText=r}(l[0]);for(let e=0;e<l[0].length;e++)s=l[0][e],e!==l[0].length-1?(setTimeout((()=>{t(r,l[0][e])}),c),c+=500):setTimeout((()=>{t(r,l[0][e]),r.addEventListener("click",o)}),c)}([n.target.dataset.row,n.target.dataset.col])})),t(r,s)})();